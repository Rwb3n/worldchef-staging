<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 584.38671875 592.64013671875" style="max-width: 584.387px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:2px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span,#my-svg p{color:#333;}#my-svg .label text,#my-svg span,#my-svg p{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .flowchart-label text{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .node .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span,#my-svg p{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .ui&gt;*{fill:#dfefff!important;stroke:#007acc!important;color:#000!important;}#my-svg .ui span{fill:#dfefff!important;stroke:#007acc!important;color:#000!important;}#my-svg .ui tspan{fill:#000!important;}#my-svg .state&gt;*{fill:#e9ffe9!important;stroke:#28a745!important;color:#000!important;}#my-svg .state span{fill:#e9ffe9!important;stroke:#28a745!important;color:#000!important;}#my-svg .state tspan{fill:#000!important;}#my-svg .service&gt;*{fill:#fff6d5!important;stroke:#d4ac0d!important;color:#000!important;}#my-svg .service span{fill:#fff6d5!important;stroke:#d4ac0d!important;color:#000!important;}#my-svg .service tspan{fill:#000!important;}#my-svg .data&gt;*{fill:#fde7e9!important;stroke:#c21807!important;color:#000!important;}#my-svg .data span{fill:#fde7e9!important;stroke:#c21807!important;color:#000!important;}#my-svg .data tspan{fill:#000!important;}#my-svg .external&gt;*{fill:#f9f9f9!important;stroke:#999!important;color:#000!important;}#my-svg .external span{fill:#f9f9f9!important;stroke:#999!important;color:#000!important;}#my-svg .external tspan{fill:#000!important;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-UI LE-State" id="L-UI-State-0" d="M224.105,56.188L224.105,61.938C224.105,67.688,224.105,79.188,224.105,89.804C224.105,100.421,224.105,110.154,224.105,115.021L224.105,119.888"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-State LE-Services" id="L-State-Services-0" d="M224.105,181.375L224.105,187.125C224.105,192.875,224.105,204.375,224.105,214.992C224.105,225.608,224.105,235.342,224.105,240.208L224.105,245.075"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Services LE-Backend" id="L-Services-Backend-0" d="M156.092,306.563L142.172,312.313C128.252,318.063,100.411,329.563,86.491,341.132C72.57,352.702,72.57,364.342,72.57,370.161L72.57,375.981"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Services LE-EdgeFunc" id="L-Services-EdgeFunc-0" d="M235.924,306.563L238.343,312.313C240.762,318.063,245.6,329.563,248.019,340.179C250.438,350.796,250.438,360.529,250.438,365.396L250.438,370.263"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Services LE-Hive" id="L-Services-Hive-0" d="M292.926,298.435L317.413,305.54C341.901,312.644,390.876,326.853,415.364,339.425C439.852,351.996,439.852,362.929,439.852,368.395L439.852,373.862"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Backend LE-Supabase" id="L-Backend-Supabase-0" d="M72.57,446.626L72.57,451.745C72.57,456.865,72.57,467.105,72.57,475.508C72.57,483.911,72.57,490.478,72.57,493.761L72.57,497.044"/></g><g class="edgeLabels"><g transform="translate(224.10546875, 90.6875)" class="edgeLabel"><g transform="translate(-35.03125, -9.5)" class="label"><foreignObject height="19" width="70.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">ref.watch</span></div></foreignObject></g></g><g transform="translate(224.10546875, 215.875)" class="edgeLabel"><g transform="translate(-47.6484375, -9.5)" class="label"><foreignObject height="19" width="95.296875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">async actions</span></div></foreignObject></g></g><g transform="translate(72.5703125, 341.0625)" class="edgeLabel"><g transform="translate(-45.7734375, -9.5)" class="label"><foreignObject height="19" width="91.546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">HTTP / gRPC</span></div></foreignObject></g></g><g transform="translate(250.4375, 341.0625)" class="edgeLabel"><g transform="translate(-71.9453125, -9.5)" class="label"><foreignObject height="19" width="143.890625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Edge Function HTTP</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><a transform="translate(224.10546875, 28.09375)" data-id="UI" data-node="true" xlink:href="../../mobile/lib/screens"><g title="Widget screens" id="flowchart-UI-0" class="node default ui clickable flowchart-label"><rect height="56.1875" width="179.75" y="-28.09375" x="-89.875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-82.375, -20.59375)" style="" class="label"><rect/><foreignObject height="41.1875" width="164.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">UI Layer<br /><sub>ConsumerWidget &amp; Widgets</sub></span></div></foreignObject></g></g></a><a transform="translate(224.10546875, 153.28125)" data-id="State" data-node="true" xlink:href="../../mobile/lib/providers"><g title="Providers directory" id="flowchart-State-1" class="node default state clickable flowchart-label"><rect height="56.1875" width="126.3125" y="-28.09375" x="-63.15625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-55.65625, -20.59375)" style="" class="label"><rect/><foreignObject height="41.1875" width="111.3125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">State Layer<br /><sub>Riverpod Providers</sub></span></div></foreignObject></g></g></a><a transform="translate(224.10546875, 278.46875)" data-id="Services" data-node="true" xlink:href="../../mobile/lib/services"><g title="Service layer" id="flowchart-Services-2" class="node default service clickable flowchart-label"><rect height="56.1875" width="137.640625" y="-28.09375" x="-68.8203125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-61.3203125, -20.59375)" style="" class="label"><rect/><foreignObject height="41.1875" width="122.640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Service Layer<br /><sub>API / Cache Services</sub></span></div></foreignObject></g></g></a><g transform="translate(466.18359375, 28.09375)" data-id="Data" data-node="true" id="flowchart-Data-3" class="node default data flowchart-label"><rect height="56.1875" width="204.40625" y="-28.09375" x="-102.203125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-94.703125, -20.59375)" style="" class="label"><rect/><foreignObject height="41.1875" width="189.40625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Data Sources<br /><sub>Supabase REST | Storage | Hive</sub></span></div></foreignObject></g></g><a transform="translate(72.5703125, 413.9533882141113)" data-id="Backend" data-node="true" xlink:href="../../backend/README.md"><g title="Backend README" id="flowchart-Backend-9" class="node default external clickable flowchart-label"><path transform="translate(-44.875,-32.67229336437718)" d="M 0,10.448195576251456 a 44.875,10.448195576251456 0,0,0 89.75 0 a 44.875,10.448195576251456 0,0,0 -89.75 0 l 0,44.44819557625146 a 44.875,10.448195576251456 0,0,0 89.75 0 l 0,-44.44819557625146" style=""/><g transform="translate(-37.375, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="74.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Fastify API</span></div></foreignObject></g></g></a><a transform="translate(250.4375, 413.9533882141113)" data-id="EdgeFunc" data-node="true" xlink:href="../../supabase/functions/nutrition_enrichment/index.ts"><g title="Edge function" id="flowchart-EdgeFunc-11" class="node default external clickable flowchart-label"><path transform="translate(-82.9921875,-38.39088761209257)" d="M 0,14.260591741395048 a 82.9921875,14.260591741395048 0,0,0 165.984375 0 a 82.9921875,14.260591741395048 0,0,0 -165.984375 0 l 0,48.26059174139505 a 82.9921875,14.260591741395048 0,0,0 165.984375 0 l 0,-48.26059174139505" style=""/><g transform="translate(-75.4921875, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="150.984375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Nutrition Enrichment</span></div></foreignObject></g></g></a><a transform="translate(439.8515625, 413.9533882141113)" data-id="Hive" data-node="true" xlink:href="https://pub.dev/packages/hive"><g title="Hive package" id="flowchart-Hive-13" class="node default external clickable flowchart-label"><path transform="translate(-56.421875,-34.79168309026409)" d="M 0,11.861122060176061 a 56.421875,11.861122060176061 0,0,0 112.84375 0 a 56.421875,11.861122060176061 0,0,0 -112.84375 0 l 0,45.86112206017606 a 56.421875,11.861122060176061 0,0,0 112.84375 0 l 0,-45.86112206017606" style=""/><g transform="translate(-48.921875, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="97.84375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Hive Local DB</span></div></foreignObject></g></g></a><g transform="translate(72.5703125, 539.4922027587891)" data-id="Supabase" data-node="true" id="flowchart-Supabase-15" class="node default external flowchart-label"><path transform="translate(-72.5703125,-37.14792642720805)" d="M 0,13.431950951472036 a 72.5703125,13.431950951472036 0,0,0 145.140625 0 a 72.5703125,13.431950951472036 0,0,0 -145.140625 0 l 0,47.43195095147203 a 72.5703125,13.431950951472036 0,0,0 145.140625 0 l 0,-47.43195095147203" style=""/><g transform="translate(-65.0703125, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="130.140625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Supabase Postgres</span></div></foreignObject></g></g></g></g></g></svg>