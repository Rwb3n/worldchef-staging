graph TD
    A["🎯 Stage 0: Performance Targets<br/>& MAU Assumptions<br/>(4h - CRITICAL)"] --> B["🔧 Stage 1: Supabase Environment<br/>Setup & Configuration<br/>(6h - HIGH)"]
    
    B --> C["🗄️ Stage 2: Schema Deployment<br/>& RLS Policy Implementation<br/>(8h - HIGH)"]
    
    C --> D["📊 Stage 3: MVP-Scale Data Seeding<br/>& Edge Function Deployment<br/>(10h - HIGH)"]
    
    D --> E["⚡ Stage 4: Comprehensive<br/>Performance Benchmarking<br/>(12h - CRITICAL)"]
    
    E --> F["💰 Stage 5: Cost Modeling<br/>& Financial Viability Analysis<br/>(8h - CRITICAL)"]
    
    F --> G["✅ Stage 6: Operational Validation<br/>& Final Evaluation<br/>(6h - HIGH)"]
    
    G --> H["📚 Documentation &<br/>Knowledge Preservation<br/>(4h - MEDIUM)"]
    
    subgraph "Success Criteria"
        SC1["Performance:<br/>p95 latencies meet targets<br/>Error rate < 1%"]
        SC2["Cost Viability:<br/>10k MAU ≤ $100/month<br/>Failure if > $150/month"]
        SC3["RLS Overhead:<br/>< 30% performance impact"]
        SC4["Operational:<br/>Backup/restore validated"]
        SC5["Confidence:<br/>≥90% recommendation level"]
    end
    
    subgraph "Risk Mitigation"
        R1["Free tier limitations<br/>→ Budget for Pro upgrade"]
        R2["Performance targets<br/>→ 30% variance allowed"]
        R3["Data seeding limits<br/>→ Efficient batching"]
        R4["Load testing blocks<br/>→ Realistic patterns"]
        R5["Cost assumptions<br/>→ Conservative + sensitivity"]
    end
    
    A -.-> SC1
    E -.-> SC1
    F -.-> SC2
    E -.-> SC3
    G -.-> SC4
    G -.-> SC5
    
    style A fill:#ff9999,stroke:#333,stroke-width:3px
    style E fill:#ff9999,stroke:#333,stroke-width:3px
    style F fill:#ff9999,stroke:#333,stroke-width:3px
    style G fill:#99ccff,stroke:#333,stroke-width:2px